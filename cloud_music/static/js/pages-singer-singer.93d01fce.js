(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-singer-singer"],{"15db":function(t,n,a){"use strict";var e;a.d(n,"b",(function(){return i})),a.d(n,"c",(function(){return r})),a.d(n,"a",(function(){return e}));var i=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("v-uni-view",{staticClass:"playlist",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goToMusiclist.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"playlist__img",attrs:{src:t.playlist.picUrl||t.playlist.coverImgUrl}}),a("v-uni-view",{staticClass:"playlist__playcount"},[a("v-uni-image",{staticClass:"playlist__playcount__img",attrs:{"lazy-load":!0,src:"/static/images/airpod.png"}}),a("v-uni-text",[t._v(t._s(t.clone_count))])],1),a("v-uni-view",{staticClass:"playlist__name"},[t._v(t._s(t.playlist.name))])],1)},r=[]},2989:function(t,n,a){var e=a("7754");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=a("4f06").default;i("202d7f14",e,!0,{sourceMap:!1,shadowMode:!1})},"35f8":function(t,n,a){var e=a("ab69");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=a("4f06").default;i("b974d662",e,!0,{sourceMap:!1,shadowMode:!1})},4508:function(t,n,a){"use strict";a.d(n,"b",(function(){return i})),a.d(n,"c",(function(){return r})),a.d(n,"a",(function(){return e}));var e={uniSearchBar:a("c941").default},i=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("v-uni-view",[a("uni-search-bar",{staticClass:"search",attrs:{placeholder:"请输入歌手关键词"},on:{input:function(n){arguments[0]=n=t.$handleEvent(n),t.onChange.apply(void 0,arguments)}},model:{value:t.value,callback:function(n){t.value=n},expression:"value"}}),0!==t.artistsSearch.length?a("v-uni-view",{staticClass:"singers"},[t._l(t.artistsSearch,(function(n,e){return[a("v-uni-view",{key:e+"_0",staticClass:"singers__item",attrs:{"data-id":n.id},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleSinger.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"singers__avator",attrs:{"lazy-load":!0,src:"/images/singer.png","data-index":e}}),a("v-uni-view",{staticClass:"singers__name"},[t._v(t._s(n.name))]),a("v-uni-view",{staticClass:"singers__btn"},[t._v("+ 关注")])],1)]}))],2):t._e(),0===t.artistsSearch.length?a("van-tabs",{attrs:{swipeable:!0},on:{change:function(n){arguments[0]=n=t.$handleEvent(n),t.handleTap.apply(void 0,arguments)}},model:{value:t.active,callback:function(n){t.active=n},expression:"active"}},[t._l(t.tags,(function(n,e){return[a("van-tab",{key:e+"_0",attrs:{title:n}},[a("x-title",{attrs:{title:n+"歌手"}}),a("v-uni-view",{staticClass:"singers"},[t._l(t.artists,(function(n,i){return[a("v-uni-view",{key:i+"_0",staticClass:"singers__item",attrs:{"data-id":n.id},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleSinger.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"singers__avator",attrs:{"lazy-load":!0,src:n.picUrl||"/images/singer.png","data-index":e}}),a("v-uni-view",{staticClass:"singers__name"},[t._v(t._s(n.name))]),a("v-uni-view",{staticClass:"singers__btn"},[t._v("+ 关注")])],1)]}))],2)],1)]}))],2):t._e()],1)},r=[]},"5a64":function(t,n,a){"use strict";a.r(n);var e=a("f944"),i=a.n(e);for(var r in e)"default"!==r&&function(t){a.d(n,t,(function(){return e[t]}))}(r);n["default"]=i.a},"667b":function(t,n,a){"use strict";var e=a("4ea4");a("99af"),a("d81d"),a("2ca0"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,a("96cf");var i=e(a("1da1")),r=e(a("bad3")),s=e(a("e9c6")),l=e(a("8963")),u=l.default._getArtistlist,c=l.default._getArtistAlbum,o={components:{xPlaylist:r.default,xTitle:s.default},data:function(){return{active:0,tags:["全部","华语","欧美","日本","韩国","其他"],tagsIds:[-1,7,96,8,16,0],artists:[],artistsSearch:[],offset:0,limit:100,value:""}},onReady:function(){this._getArtistlist(-1,this.limit)},onReachBottom:function(){var t=this.tagsIds[this.active],n=this.limit,a=this.offset+n;this.setData({offset:a}),this._getArtistlist(t,n,a)},methods:{_getArtistlist:function(t,n,a){var e=this;return(0,i.default)(regeneratorRuntime.mark((function i(){var r,s,l,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return uni.showLoading({title:"加载中"}),i.next=3,u(t,n,a);case 3:r=i.sent,s=r.data.artists||[],l=e.artists,c=l.concat(s),e.setData({artists:c}),uni.hideLoading({});case 9:case"end":return i.stop()}}),i)})))()},_getArtistAlbum:function(t){return(0,i.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c(t);case 2:n.sent;case 3:case"end":return n.stop()}}),n)})))()},goToSearch:function(){uni.navigateTo({url:"../otherPages/search/search"})},handleTap:function(t){var n=t.detail.index;this.setData({artists:[]}),this._getArtistlist(this.tagsIds[n],this.limit)},handleSinger:function(t){uni.navigateTo({url:"../otherPages/album/album?id=".concat(t.currentTarget.dataset.id)})},onChange:function(t){var n=t.detail,a=[];if(""!==n){var e=this.artists;e.map((function(t){t.name.startsWith(n)&&a.push(t)})),this.setData({artistsSearch:a})}else this.setData({artistsSearch:a})}}};n.default=o},7754:function(t,n,a){var e=a("24fb");n=e(!1),n.push([t.i,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* pages/components/playlist.wxss */.playlist[data-v-59d090d8]{width:%?200?%;margin:%?10?% 0;font-size:%?20?%;position:relative}.playlist__img[data-v-59d090d8]{width:%?200?%;height:%?200?%}.playlist__playcount[data-v-59d090d8]{position:absolute;right:%?0?%;top:%?0?%;background-color:hsla(0,0%,78.4%,.6);width:100%;text-align:right}.playlist__playcount__img[data-v-59d090d8]{width:%?30?%;height:%?30?%;margin-right:%?5?%}",""]),t.exports=n},8963:function(t,n,a){"use strict";var e=a("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e(a("00ff")),r=function(t,n,a){return(0,i.default)({url:"/artist/list",data:{area:t||-1,type:-1,limit:n||10,initial:-1,offset:a||1}})},s=function(t){return(0,i.default)({url:"/artist/album",data:{id:t,limit:50}})},l={data:function(){return{}},_getArtistlist:r,_getArtistAlbum:s};n.default=l},a44f:function(t,n,a){"use strict";a.r(n);var e=a("667b"),i=a.n(e);for(var r in e)"default"!==r&&function(t){a.d(n,t,(function(){return e[t]}))}(r);n["default"]=i.a},ab37:function(t,n,a){"use strict";a.r(n);var e=a("4508"),i=a("a44f");for(var r in i)"default"!==r&&function(t){a.d(n,t,(function(){return i[t]}))}(r);a("fb36");var s,l=a("f0c5"),u=Object(l["a"])(i["default"],e["b"],e["c"],!1,null,"305d962e",null,!1,e["a"],s);n["default"]=u.exports},ab69:function(t,n,a){var e=a("24fb");n=e(!1),n.push([t.i,".singers[data-v-305d962e]{flex-flow:row wrap;padding:%?20?% %?40?%;width:100%}.singers__item[data-v-305d962e]{display:flex;padding:%?20?% 0;border-bottom:%?2?% solid #f1f1f1}.singers__avator[data-v-305d962e]{width:%?100?%;height:%?100?%;border-radius:50%;margin-right:%?40?%}.singers__name[data-v-305d962e]{font-size:%?30?%;flex:1;padding:%?35?% 0}.singers__btn[data-v-305d962e]{width:%?140?%;height:%?60?%;margin:%?20?% 0;padding:%?18?%;text-align:center;font-size:%?20?%;color:#d43c43;border:%?2?% solid #d43c43;border-radius:%?20?%}",""]),t.exports=n},bad3:function(t,n,a){"use strict";a.r(n);var e=a("15db"),i=a("5a64");for(var r in i)"default"!==r&&function(t){a.d(n,t,(function(){return i[t]}))}(r);a("c7e7");var s,l=a("f0c5"),u=Object(l["a"])(i["default"],e["b"],e["c"],!1,null,"59d090d8",null,!1,e["a"],s);n["default"]=u.exports},c7e7:function(t,n,a){"use strict";var e=a("2989"),i=a.n(e);i.a},f944:function(t,n,a){"use strict";a("d3b7"),a("e25e"),a("ac1f"),a("25f0"),a("1276"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={data:function(){return{clone_count:0}},props:{playlist:{type:Object}},watch:{playlist:{handler:function(t){this.setData({clone_count:this.transNum(t,2)})},immediate:!0,deep:!0},_count:{handler:function(t,n){this.clone_count=t},immediate:!0}},methods:{transNum:function(t,n){var a=t.toString().split(".")[0];return a.length<6?a:a.length>=6&&a.length<8?parseInt(a/1e4)+"."+a.substr(a.length-2,n)+"万":parseInt(a/1e8)+"."+a.substr(a.length-6,n)+"亿"},goToMusiclist:function(t){uni.navigateTo({url:"../otherPages/musiclist/musiclist?id=".concat(this.playlist.id)})}}};n.default=e},fb36:function(t,n,a){"use strict";var e=a("35f8"),i=a.n(e);i.a}}]);