(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-otherPages-musiclist-musiclist"],{"11ae":function(n,t,r){"use strict";var e=r("9f70"),a=r.n(e);a.a},"120c":function(n,t,r){"use strict";var e=r("718e"),a=r.n(e);a.a},"53b2":function(n,t,r){"use strict";var e=r("4ea4");r("99af"),r("d81d"),r("fb6a"),r("e25e"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("96cf");var a=e(r("1da1")),i=e(r("cbfc")),o=e(r("aaa8")),s=e(r("c6b1")),c=e(r("5561")),u=e(r("c79f")),l=s.default._getPlaylistDetail,d=s.default._getSongDetail,f=c.default._getPlaylistSubscribe,v=u.default._getUserPlaylist,g={components:{xSongs:i.default,xControl:o.default},data:function(){return{clone_id:0,playlistDetail:{coverImgUrl:"",name:"",description:"",tags:[]},ids:[],songs:[],_index:0,isplay:!1,offset:0,limit:100,isCollect:!1}},onLoad:function(n){var t=n.id;t&&this.setData({clone_id:t})},onReady:function(){this.setup()},onReachBottom:function(){this.onReachBottomSetup()},methods:{goToSearch:function(){uni.navigateTo({url:"../search/search"})},_getPlaylistDetail:function(n){var t=this;return(0,a.default)(regeneratorRuntime.mark((function r(){var e;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,l(n);case 2:if(e=r.sent,200===e.data.code){r.next=5;break}return r.abrupt("return");case 5:t.setData({ids:e.data.playlist.trackIds,playlistDetail:e.data.playlist});case 6:case"end":return r.stop()}}),r)})))()},collectPlaylist:function(){var n=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var r,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!0!==n.isCollect){t.next=6;break}return t.next=3,f(2,n.clone_id);case 3:return r=t.sent,200===r.data.code&&(uni.showToast({title:"取消收藏"}),n.setData({isCollect:!1})),t.abrupt("return");case 6:return t.next=8,f(1,n.clone_id);case 8:e=t.sent,200===e.data.code&&(uni.showToast({title:"收藏成功"}),n.setData({isCollect:!0}));case 10:case"end":return t.stop()}}),t)})))()},_getSongDetail:function(n,t,r){var e=this;return(0,a.default)(regeneratorRuntime.mark((function a(){var i,o,s,c,u,l,f,v;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=[],!(t>=n.length)){a.next=3;break}return a.abrupt("return");case 3:return o=n.length,s=t+r,c=o>=s?s:o,u=n.slice(t,c),u.map((function(n){i.push(n.id)})),a.next=10,d(i.join(","));case 10:l=a.sent,f=e.songs,v=f.concat(l.data.songs),e.setData({songs:v}),uni.setStorage({key:"playerList",data:v});case 15:case"end":return a.stop()}}),a)})))()},_getUserPlaylist:function(n){var t=this;return(0,a.default)(regeneratorRuntime.mark((function r(){var e,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,v(n);case 2:e=r.sent,a=e.data.playlist,i=parseInt(t.clone_id),a.map((function(n){n.id===i&&t.setData({isCollect:!0})}),t);case 6:case"end":return r.stop()}}),r)})))()},goToPlayer:function(n){var t=n.currentTarget.dataset["id"];uni.navigateTo({url:"../player/player?id=".concat(t)})},setup:function(){var n=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var r,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return uni.showLoading({title:"加载中"}),r=uni.getStorageSync("userInfo"),r&&r.userId&&(e=r.userId,n._getUserPlaylist(e)),t.next=5,n._getPlaylistDetail(n.clone_id);case 5:return t.next=7,n._getSongDetail(n.ids,0,n.limit);case 7:uni.hideLoading();case 8:case"end":return t.stop()}}),t)})))()},onReachBottomSetup:function(){var n=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var r,e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return uni.showLoading({title:"加载中"}),r=n.limit,e=n.offset+r,a=n.ids,n.setData({offset:e}),t.next=7,n._getSongDetail(a,e,r);case 7:uni.hideLoading();case 8:case"end":return t.stop()}}),t)})))()},play:function(){console.log("占位：函数 play 未声明")}}};t.default=g},5561:function(n,t,r){"use strict";var e=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e(r("00ff")),i=function(n,t){var r=uni.getStorageSync("cookie");return(0,a.default)({url:"/playlist/subscribe",data:{cookie:r,t:n||1,id:t},header:{"content-type":"application/json"}})},o={data:function(){return{}},_getPlaylistSubscribe:i};t.default=o},"5d9b":function(n,t,r){"use strict";var e;r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return e}));var a=function(){var n=this,t=n.$createElement,r=n._self._c||t;return r("v-uni-view",[r("v-uni-view",{staticClass:"topfixed"},[r("v-uni-text",{staticClass:"top__title"},[n._v("推荐歌单")]),r("v-uni-text",{staticClass:"iconfont icon-search1",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.goToSearch.apply(void 0,arguments)}}})],1),r("v-uni-view",{staticClass:"toparea"},[r("v-uni-image",{staticClass:"toparea__img",attrs:{src:n.playlistDetail.coverImgUrl}}),r("v-uni-view",{staticClass:"toparea__text"},[r("v-uni-text",{staticClass:"toparea__text__name"},[n._v(n._s(n.playlistDetail.name))]),r("v-uni-text",{staticClass:"toparea__text__discription"},[n._v(n._s(n.playlistDetail.description))]),r("v-uni-view",{staticClass:"toparea__text__tags"},n._l(n.playlistDetail.tags,(function(t,e){return r("v-uni-text",{key:e},[n._v(n._s(t))])})),1)],1)],1),r("v-uni-view",{staticClass:"iconsbox"},[r("v-uni-view",{on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.collectPlaylist.apply(void 0,arguments)}}},[r("v-uni-text",{class:"iconfont icon-shoucang "+(n.isCollect?"isCollect":"")}),r("v-uni-text",[n._v("收藏")])],1),r("v-uni-view",[r("v-uni-text",{staticClass:"iconfont icon-pinglun"}),r("v-uni-text",[n._v("评论")])],1),r("v-uni-view",[r("v-uni-text",{staticClass:"iconfont icon-fenxiang"}),r("v-uni-text",[n._v("分享")])],1)],1),r("v-uni-view",{staticClass:"music__top",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.play.apply(void 0,arguments)}}},[r("v-uni-text",{staticClass:"iconfont icon-bofang"}),r("v-uni-text",[n._v("播放全部")])],1),r("v-uni-view",{staticClass:"musiclist"},[r("x-songs",{attrs:{songs:n.songs}})],1),r("x-control")],1)},i=[]},7133:function(n,t,r){"use strict";r.r(t);var e=r("53b2"),a=r.n(e);for(var i in e)"default"!==i&&function(n){r.d(t,n,(function(){return e[n]}))}(i);t["default"]=a.a},"718e":function(n,t,r){var e=r("cb92");"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var a=r("4f06").default;a("3a844eda",e,!0,{sourceMap:!1,shadowMode:!1})},"7a93":function(n,t,r){"use strict";var e;r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return e}));var a=function(){var n=this,t=n.$createElement,r=n._self._c||t;return r("v-uni-view",[n._l(n.songs,(function(t,e){return[r("v-uni-view",{key:e+"_0",class:"musiclist__item "+(e==n.clone_index?"active":""),attrs:{"data-index":e},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.handlePlay.apply(void 0,arguments)}}},[r("v-uni-text",{staticClass:"musiclist__order"},[n._v(n._s(e+1))]),r("v-uni-view",{staticClass:"musiclist__main"},[r("v-uni-view",{staticClass:"musiclist__name"},[n._v(n._s(t.name))]),r("v-uni-view",{staticClass:"musiclist__creator"},[n._v(n._s(t.al.name)+"--"+n._s(t.ar[0].name))])],1),r("v-uni-text",{staticClass:"iconfont icon-bofang"}),r("v-uni-text")],1)]}))],2)},i=[]},"9a3e":function(n,t,r){"use strict";r.r(t);var e=r("5d9b"),a=r("7133");for(var i in a)"default"!==i&&function(n){r.d(t,n,(function(){return a[n]}))}(i);r("11ae");var o,s=r("f0c5"),c=Object(s["a"])(a["default"],e["b"],e["c"],!1,null,"5c15bda6",null,!1,e["a"],o);t["default"]=c.exports},"9f3c":function(n,t,r){var e=r("24fb");t=e(!1),t.push([n.i,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* pages/otherPages/musiclist/musiclist.wxss */.topfixed[data-v-5c15bda6]{position:fixed;display:flex;z-index:2;justify-content:space-between;top:44px;left:0;right:0;height:%?80?%;line-height:%?80?%;\r\n    /* background-color: #f1f1f1; */background:linear-gradient(180deg,#f1f1f1,#ccc);padding:0 %?20?%}.toparea[data-v-5c15bda6]{display:flex;margin-top:%?80?%;height:%?350?%;margin-bottom:%?100?%;\r\n    /* background-color: #616163; */\r\n    /* background-color: rgba(); */background:linear-gradient(180deg,#ccc,#616163)}.toparea__img[data-v-5c15bda6]{width:%?250?%;height:%?250?%;border-radius:%?20?%;margin:%?20?%}.toparea__text[data-v-5c15bda6]{display:flex;flex:1;font-size:%?30?%;flex-flow:column nowrap;overflow:auto;padding-bottom:%?50?%}.toparea__text__name[data-v-5c15bda6]{margin:%?30?%;margin-bottom:%?40?%;color:#fff}.toparea__text__discription[data-v-5c15bda6],\r\n.toparea__text__tags[data-v-5c15bda6]{font-size:%?22?%;color:#ddd;margin:%?10?% %?30?%}.iconsbox[data-v-5c15bda6]{position:absolute;left:50%;top:%?300?%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:%?480?%;height:%?100?%;font-size:%?26?%;border-radius:%?50?%;background-color:#fff;box-shadow:0 0 %?4?% %?4?% #ccc;display:flex}.iconsbox uni-view[data-v-5c15bda6]{text-align:center;height:%?100?%;line-height:%?100?%;flex:1}.music__top[data-v-5c15bda6]{margin:%?40?% %?20?%}.musiclist[data-v-5c15bda6]{margin-bottom:%?100?%}.isCollect[data-v-5c15bda6]{color:#d43c43}\r\n/* .musiclist .active .musiclist__name{\r\n  color: #d43c43;\r\n}\r\n.musiclist__item{\r\n  display: flex;\r\n  margin: 0 20rpx;\r\n  padding: 20rpx 0;\r\n  border-bottom: 2rpx solid #eee;\r\n\r\n}\r\n.musiclist__order{\r\n  padding: 20rpx 0;\r\n  width: 80rpx;\r\n  text-align: center;\r\n  color: #666;\r\n}\r\n.musiclist__main{\r\n  flex: 1;\r\n}\r\n.musiclist__creator{\r\n  font-size: 20rpx;\r\n  color: #666;\r\n}\r\n.icon-bofang{\r\n  padding: 20rpx;\r\n} */.control[data-v-5c15bda6]{display:flex;position:fixed;bottom:0;left:0;right:0;height:%?100?%;line-height:%?100?%;background-color:#f1f1f1}.control__img[data-v-5c15bda6]{width:%?80?%;height:%?80?%;border-radius:50%;margin:%?10?% %?20?%;-webkit-animation:spin-data-v-5c15bda6 8s linear 0s infinite;animation:spin-data-v-5c15bda6 8s linear 0s infinite}.control__img.paused[data-v-5c15bda6]{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spin-data-v-5c15bda6{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin-data-v-5c15bda6{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.control__name[data-v-5c15bda6]{flex:1}.control .icon-24gl-playCircle[data-v-5c15bda6],\r\n.control .icon-zanting[data-v-5c15bda6]{font-size:%?46?%;line-height:%?100?%;margin-right:%?40?%;padding:0;text-align:right}.control_lyric[data-v-5c15bda6]{margin-right:%?40?%}",""]),n.exports=t},"9f70":function(n,t,r){var e=r("9f3c");"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var a=r("4f06").default;a("5cba7687",e,!0,{sourceMap:!1,shadowMode:!1})},a953:function(n,t,r){"use strict";r.r(t);var e=r("d0a4"),a=r.n(e);for(var i in e)"default"!==i&&function(n){r.d(t,n,(function(){return e[n]}))}(i);t["default"]=a.a},c6b1:function(n,t,r){"use strict";var e=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e(r("00ff")),i=function(){return(0,a.default)({url:"/search/hot/detail"})},o=function(n){var t=uni.getStorageSync("cookie");return(0,a.default)({url:"/playlist/detail",data:{cookie:t,id:n}})},s=function(n){return(0,a.default)({url:"/song/detail",data:{ids:n}})},c=function(n){return(0,a.default)({url:"/song/url",data:{id:n}})},u=function(n){return(0,a.default)({url:"/lyric",data:{id:n}})},l={data:function(){return{}},_getHotDetail:i,_getPlaylistDetail:o,_getSongDetail:s,_getSongUrl:c,_getLyric:u};t.default=l},c79f:function(n,t,r){"use strict";var e=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e(r("00ff")),i=function(){return(0,a.default)({url:"/logout",data:{}})},o=function(){return(0,a.default)({url:"/login/status",data:{}})},s=function(n){return(0,a.default)({url:"/user/detail",data:{uid:n}})},c=function(){return(0,a.default)({url:"/user/subcount",header:{"content-type":"application/json"}})},u=function(){return(0,a.default)({url:"/user/account",data:{}})},l=function(n){return(0,a.default)({url:"/user/playlist",data:{uid:n},header:{"content-type":"application/json"}})},d=function(n){return(0,a.default)({url:"/likelist",data:{uid:n},header:{"content-type":"application/json"}})},f={data:function(){return{}},_getUserPlaylist:l,_getUserSubcount:c,_getUserAccount:u,_getUserDetail:s,_getLogout:i,_getLoginStatus:o,_getLikelist:d};t.default=f},cb92:function(n,t,r){var e=r("24fb");t=e(!1),t.push([n.i,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* pages/components/songs/songs.wxss */.active .musiclist__name[data-v-f5f77930]{color:#d43c43}.musiclist__item[data-v-f5f77930]{display:flex;margin:0 %?20?%;padding:%?20?% 0;border-bottom:%?2?% solid #eee}.musiclist__order[data-v-f5f77930]{padding:%?20?% 0;width:%?80?%;text-align:center;color:#666}.musiclist__main[data-v-f5f77930]{flex:1}.musiclist__creator[data-v-f5f77930]{font-size:%?20?%;color:#666}.icon-bofang[data-v-f5f77930]{padding:%?20?%}",""]),n.exports=t},cbfc:function(n,t,r){"use strict";r.r(t);var e=r("7a93"),a=r("a953");for(var i in a)"default"!==i&&function(n){r.d(t,n,(function(){return a[n]}))}(i);r("120c");var o,s=r("f0c5"),c=Object(s["a"])(a["default"],e["b"],e["c"],!1,null,"f5f77930",null,!1,e["a"],o);t["default"]=c.exports},d0a4:function(n,t,r){"use strict";r("99af"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={data:function(){return{clone_index:0}},props:{songs:{type:[Object,Array],default:function(){return[]}}},methods:{handlePlay:function(n){var t=n.currentTarget.dataset["index"],r=this.songs[t].id;this.setData({clone_index:t}),uni.navigateTo({url:"../player/player?id=".concat(r,"&index=").concat(t)})}}};t.default=e}}]);